# 完善MBR(主引导记录)

## 地址、section、vstart 

### 地址
距第一个符号的距离便是它们在程序中的地址。

上述的偏移量本质上就是地址，每个变量的地址是前一个变量的地址+前一个变量的内存空间大小

第 1 行和第 4 行的 mov 的机器码中第 1 字节都是 B8，其原因是寻址方式都是立即数。




cwd（将word转化成double word）

大概意思是 section 用 vstart=来修饰后，可以被赋予一个虚拟起始地址 virtual start address(强调了这个是虚拟的地址)

code.节名.start== 节在整个程序的地址，相当于与文件开头的偏移量



## ret call 

ret ：作用 ：从栈顶获取2个字节的字数，放进ip寄存器里面
retf：作用：从栈顶获取4个字节，放进cs:ip里面

（用栈顶元素改变cpu执行流，正确与否由程序员）

call指令和ret是一对配合
call far 和retf是一对配合
### call 实模式

8086 处理器有两个指令能实现改变程序的流程 一个是jmp，一个是call。区别是jmp属于不回头的执行新代码，适用于`交接`，比如说BIOS交给MBR。call属于执行万一段分支之后再回来的情况，他回来要用retf或者ret配合。
call实现一个函数的调用，有四种方式。
(第一二种，近调用，34远调用)

>近指在同一段内，不用切换段（基地址），只用给段内偏移量
格式：
```
call near 立即数地址
```
操作数是立即数(near可以省略)



